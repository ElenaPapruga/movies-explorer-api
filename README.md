# Диплом от Яндекс.Практикума

Адрес сервера: epapruga.nomoredomains.sbs
api.epapruga.nomoredomains.sbs

Публичный IPv4: 51.250.96.194

Функционал сайта: сайт с описанием разработчика, вход на сайт через регистрацию пользователя, под своим логином пользователь может создавать свою фильмотеку.

## Запуск проекта
`npm run start` — запускает сервер   
`npm run dev` — запускает сервер с hot-reload

# Технологии используемые в проекте
## Frontend:
HTML;
CSS (Flexbox, Grid Layout, Positioning, Adaptive, UI, Media Queries)
Фйловая структура Nested БЭМ;
Методология БЭМ;
JavaScript (Стиль CamelCase,Объектно-ориентированное программирование (ОПП);
Промисы (Promise);
Асинхронность и оптимизация;
Rest API;
Webpack;
React JS:
Create React App;
Функциональные компоненты;
Хуки.

## Backend:
Node.js;
Express;
MongoDB;
Сelebrate;
Winston.
CORS.
express-rate-limit

## Поля схемы user:
email — почта пользователя, по которой он регистрируется. Это обязательное поле, уникальное для каждого пользователя. Также оно должно валидироваться на соответствие схеме электронной почты.
password — хеш пароля. Обязательное поле-строка. Нужно задать поведение по умолчанию, чтобы база данных не возвращала это поле.
name — имя пользователя, например: Александр или Мария. Это обязательное поле-строка от 2 до 30 символов.

## Поля схемы movie:
country — страна создания фильма. Обязательное поле-строка.
director — режиссёр фильма. Обязательное поле-строка.
duration — длительность фильма. Обязательное поле-число.
year — год выпуска фильма. Обязательное поле-строка.
description — описание фильма. Обязательное поле-строка.
image — ссылка на постер к фильму. Обязательное поле-строка. Запишите её URL-адресом.
trailerLink — ссылка на трейлер фильма. Обязательное поле-строка. Запишите её URL-адресом.
thumbnail — миниатюрное изображение постера к фильму. Обязательное поле-строка. Запишите её URL-адресом.
owner — _id пользователя, который сохранил фильм. Обязательное поле.
movieId — id фильма, который содержится в ответе сервиса MoviesExplorer. Обязательное поле.
nameRU — название фильма на русском языке. Обязательное поле-строка.
nameEN — название фильма на английском языке. Обязательное поле-строка.



## Директории
`/routes` — папка с файлами роутера  
`/controllers` — папка с файлами контроллеров пользователя и карточки   
`/models` — папка с файлами описания схем пользователя и карточки  
`/errors` — папка с файлами обработки ошибок
`/midlleware` — папка с файлами промежуточной обработки  



### База данных
В файле app.js проект подключен к серверу MongoDB по адресу: mongodb://localhost:27017/filmsdb 
filmsdb — имя базы данных

### Роутеры
Реализованы роутеры:
GET /users — возвращает всех пользователей
GET /users/:userId - возвращает пользователя по _id
POST /users — создаёт пользователя 

PATCH /users/me — обновляет профиль
PATCH /users/me/avatar — обновляет аватар
PUT /cards/:cardId/likes — поставить лайк карточке
DELETE /cards/:cardId/likes — убрать лайк с карточки 

POST /signin — роут для логина
POST /signup — роут для регистрации

### Обработка ошибок
Реализована централизованная обработка ошибок

## Планы
В дальнейшем будет осуществлен фронтенд
